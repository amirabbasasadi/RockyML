<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RockyML: Block optimization for large problems</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rockyml-docs-200.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RockyML
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">A High-Performance Scientific Computing Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('block_optimization.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Block optimization for large problems </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Many search strategies in Zagros are population-based methods that are memory intensive. This can be problematic for large-scale problems. support we want to optimizer a function with 1 million variables. If our memory is limited, It's definitely not a good idea to use large solution containers. To address this, Zagros supports block optimization. The idea is simple. Instead of optimizing all variables, we select a subset of variable and optimize them, actually some kind of coordinate descent. We optimize and then again select another group of variables and keep doing this until convergence. But how to select those variables? Dena blocking strategies can specify the method for variable selection. </p>
<h1><a class="anchor" id="autotoc_md0"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> dim = 100000;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> block_dim = 1000;</div>
<div class="line"><span class="comment">// problem definition</span></div>
<div class="line">zagros::benchmark::ackley&lt;float&gt; problem(dim);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> optimizer = container::creat(<span class="stringliteral">&quot;A&quot;</span>, 1000)</div>
<div class="line">                 &gt;&gt; init::uniform(<span class="stringliteral">&quot;A&quot;</span>)</div>
<div class="line">                 run::while_improve(5,</div>
<div class="line">                    block::uniform::select() </div>
<div class="line">                    &gt;&gt; run::while_improve(5</div>
<div class="line">                        eda::mvn::full_cov(&quot;A&quot;)</div>
<div class="line">                    )</div>
<div class="line">                 );</div>
<div class="line"> </div>
<div class="line"><span class="comment">// specify the block size when defining the runtime</span></div>
<div class="line">zagros::basic_runtime&lt;<span class="keywordtype">float</span>, dim, block_dim&gt; runtime(&amp;problem);</div>
</div><!-- fragment --><p>Now in each step we are solving a 1000-dimensional problem which consumes much less memory. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="guide.html">Guide</a></li><li class="navelem"><a class="el" href="zagros.html">Zagros | An Optimization Framework for HPC Clusters</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
